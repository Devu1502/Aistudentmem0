{"ast":null,"code":"var _jsxFileName = \"/Users/sreekanthgopi/Desktop/Apps/AIStudentMem0/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatApp() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const send = async () => {\n    if (!input.trim()) return;\n\n    // handle commands like /topic or /session\n    if (input.startsWith(\"/\")) {\n      await handleCommand(input);\n      setInput(\"\");\n      return;\n    }\n    try {\n      const res = await fetch(`http://localhost:8000/chat?prompt=${encodeURIComponent(input)}`);\n      const data = await res.json();\n      setMessages(prev => [...prev, {\n        role: \"teacher\",\n        text: input\n      }, {\n        role: \"student\",\n        text: data.response\n      }]);\n      setInput(\"\");\n    } catch (e) {\n      console.error(\"Chat error:\", e);\n    }\n  };\n  const handleCommand = async cmd => {\n    if (cmd.startsWith(\"/session\")) {\n      const res = await fetch(`http://localhost:8000/session`, {\n        method: \"POST\"\n      });\n      const data = await res.json();\n      setMessages(prev => [...prev, {\n        role: \"system\",\n        text: data.message\n      }]);\n    } else if (cmd.startsWith(\"/topic\")) {\n      const topic = cmd.split(\" \")[1] || \"general\";\n      const res = await fetch(`http://localhost:8000/topic?new_topic=${topic}`, {\n        method: \"POST\"\n      });\n      const data = await res.json();\n      setMessages(prev => [...prev, {\n        role: \"system\",\n        text: data.message\n      }]);\n    } else if (cmd.startsWith(\"/search\")) {\n      const query = cmd.split(\" \").slice(1).join(\" \");\n      const res = await fetch(`http://localhost:8000/search?query=${encodeURIComponent(query)}`);\n      const data = await res.json();\n      const results = data.results.results.map(r => `ðŸ” ${r.memory}`).join(\"\\n\");\n      setMessages(prev => [...prev, {\n        role: \"system\",\n        text: results\n      }]);\n    } else {\n      setMessages(prev => [...prev, {\n        role: \"system\",\n        text: \"Unknown command.\"\n      }]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 max-w-2xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-96 overflow-y-auto border p-3 rounded bg-gray-50\",\n      children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `my-1 ${m.role === \"teacher\" ? \"text-blue-600 text-right\" : m.role === \"student\" ? \"text-green-700 text-left\" : \"text-gray-500 text-center\"}`,\n        children: [m.role !== \"system\" && /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [m.role, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 37\n        }, this), \" \", m.text]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"flex-1 border p-2 rounded-l\",\n        value: input,\n        placeholder: \"Type message or /command\",\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => e.key === \"Enter\" && send()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"bg-blue-500 text-white px-4 rounded-r\",\n        onClick: send,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatApp, \"bxrUXnlHDt+zalfpk8IFX5tJV48=\");\n_c = ChatApp;\nvar _c;\n$RefreshReg$(_c, \"ChatApp\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ChatApp","_s","messages","setMessages","input","setInput","send","trim","startsWith","handleCommand","res","fetch","encodeURIComponent","data","json","prev","role","text","response","e","console","error","cmd","method","message","topic","split","query","slice","join","results","map","r","memory","className","children","m","i","fileName","_jsxFileName","lineNumber","columnNumber","value","placeholder","onChange","target","onKeyDown","key","onClick","_c","$RefreshReg$"],"sources":["/Users/sreekanthgopi/Desktop/Apps/AIStudentMem0/frontend/src/App.tsx"],"sourcesContent":["import React, { useState } from \"react\";\n\ntype Message = {\n  role: \"teacher\" | \"student\";\n  text: string;\n};\n\nexport default function ChatApp() {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState<string>(\"\");\n\n  const send = async () => {\n    if (!input.trim()) return;\n\n    // handle commands like /topic or /session\n    if (input.startsWith(\"/\")) {\n      await handleCommand(input);\n      setInput(\"\");\n      return;\n    }\n\n    try {\n      const res = await fetch(`http://localhost:8000/chat?prompt=${encodeURIComponent(input)}`);\n      const data = await res.json();\n      setMessages((prev) => [\n        ...prev,\n        { role: \"teacher\", text: input },\n        { role: \"student\", text: data.response },\n      ]);\n      setInput(\"\");\n    } catch (e) {\n      console.error(\"Chat error:\", e);\n    }\n  };\n\n  const handleCommand = async (cmd: string) => {\n    if (cmd.startsWith(\"/session\")) {\n      const res = await fetch(`http://localhost:8000/session`, { method: \"POST\" });\n      const data = await res.json();\n      setMessages((prev) => [...prev, { role: \"system\", text: data.message } as any]);\n    } else if (cmd.startsWith(\"/topic\")) {\n      const topic = cmd.split(\" \")[1] || \"general\";\n      const res = await fetch(`http://localhost:8000/topic?new_topic=${topic}`, { method: \"POST\" });\n      const data = await res.json();\n      setMessages((prev) => [...prev, { role: \"system\", text: data.message } as any]);\n    } else if (cmd.startsWith(\"/search\")) {\n      const query = cmd.split(\" \").slice(1).join(\" \");\n      const res = await fetch(`http://localhost:8000/search?query=${encodeURIComponent(query)}`);\n      const data = await res.json();\n      const results = data.results.results.map((r: any) => `ðŸ” ${r.memory}`).join(\"\\n\");\n      setMessages((prev) => [...prev, { role: \"system\", text: results } as any]);\n    } else {\n      setMessages((prev) => [...prev, { role: \"system\", text: \"Unknown command.\" } as any]);\n    }\n  };\n\n  return (\n    <div className=\"p-4 max-w-2xl mx-auto\">\n      <div className=\"h-96 overflow-y-auto border p-3 rounded bg-gray-50\">\n        {messages.map((m, i) => (\n          <div\n            key={i}\n            className={`my-1 ${\n              m.role === \"teacher\"\n                ? \"text-blue-600 text-right\"\n                : m.role === \"student\"\n                ? \"text-green-700 text-left\"\n                : \"text-gray-500 text-center\"\n            }`}\n          >\n            {m.role !== \"system\" && <b>{m.role}:</b>} {m.text}\n          </div>\n        ))}\n      </div>\n      <div className=\"flex mt-2\">\n        <input\n          className=\"flex-1 border p-2 rounded-l\"\n          value={input}\n          placeholder=\"Type message or /command\"\n          onChange={(e) => setInput(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && send()}\n        />\n        <button className=\"bg-blue-500 text-white px-4 rounded-r\" onClick={send}>\n          Send\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}